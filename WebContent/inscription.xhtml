<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/template/mylayout.xhtml">
	<ui:define name="content">
		<c:set var="c" value="#{person.thePerson}" />
		<fieldset>
			<legend>Inscription</legend>
			<h:form id="test">

				<h:panelGrid columns="3">
					<h:outputText value="Prénom :" />
					<h:inputText id="firstName" value="#{c.firstName}" required="true"
						requiredMessage="Le prénom est obligatoire">
						<f:validateLength minimum="4" maximum="50" />
						<f:validateRegex pattern="^[A-Za-z-]+$" />
					</h:inputText>
					<h:message style="color:red" for="firstName" />
					
					<h:outputText value="Nom :" />
					<h:inputText id="lastName" value="#{c.lastName}" required="true"
						requiredMessage="Le nom est obligatoire">
						<f:validateLength minimum="2" maximum="50" />
						<f:validateRegex pattern="^[A-Za-z-]+$" />
					</h:inputText>
					<h:message style="color:red" for="lastName" />
					
					<h:outputText value="Adresse email :" />
					<h:inputText id="email" value="#{c.email}" required="true"
						requiredMessage="L'email est obligatoire">
						<f:validateLength minimum="2" maximum="100" />
						<f:validateRegex pattern="^[A-Za-z0-9-_.]+@[A-Za-z-.]+.[A-Za-z]{2,3}$" />
					</h:inputText>
					<h:message style="color:red" for="email" />
					
					<h:outputText value="Date de naissance" />
					<h:inputText id="birthday" value="#{c.birthday}" required="false">
						<f:validateRegex pattern="^([0-9]{2}/[0-9]{2}/[0-9]{4})?$" />
					</h:inputText>
					<h:message style="color:red" for="birthday" />
					
					<h:outputText value="Site web :" />
					<h:inputText id="web" value="#{c.web}" required="false">
						<f:validateRegex pattern="^(www.[A-Za-z0-9-_.]+.[A-za-z]{2,3})?$" />
					</h:inputText>
					<h:message style="color:red" for="web" />
					
					<h:outputText value="Mot de passe :" />
					<h:inputSecret id="password" value="#{c.password}" required="true" 
						requiredMessage="Veuillez entrer un mot de passe">
						<f:validateLength minimum="6" maximum="20" />
						<f:validator validatorId="passwordValidator" />
						<f:attribute name="confirmation" value="#{confirmation}" />
					</h:inputSecret>
					<h:message style="color:red" for="password" />
					
					<h:outputText value="Confirmation du mot de passe :" />
					<h:inputSecret id="confirmation" value="#{c.password}" required="true"
						binding="#{confirmation}" 
						requiredMessage="Veuillez entrer un mot de passe de confirmation">
						<f:validateLength minimum="2" maximum="20" />
					</h:inputSecret>
					<h:message style="color:red" for="confirmation" />
					
				</h:panelGrid>
				<h:commandButton value="Inscription"
					action="#{person.inscription()}" />
			</h:form>
		</fieldset>

	</ui:define>
</ui:composition>
</html>